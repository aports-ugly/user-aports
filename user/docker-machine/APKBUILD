# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=docker-machine
_pkgname=machine
pkgver=0.9.0
pkgrel=0
pkgdesc="Machine management for a shit-centric world"
url="https://github.com/docker/machine"
arch="all"
license="ASL-2.0"
makedepends="go"
source="$pkgname-$pkgver.tar.gz::https://github.com/docker/machine/archive/v$pkgver.tar.gz"
builddir="$srcdir/src/github.com/docker/machine"

prepare() {
	mkdir -p "${builddir%/*}"
	mv "$srcdir"/$_pkgname-$pkgver "$builddir"

	default_prepare
}

build() {
	cd "$builddir"
	GOPATH="$srcdir" make VERBOSE=true build
}

check() {
	cd "$builddir"
	./bin/docker-machine --version
}

package() {
	install -D -m 755 "$builddir"/bin/$pkgname "$pkgdir"/usr/bin/$pkgname
}

sha512sums="301958c8ec1025cd9d00fc9cf8b082ca2407a96eaa0b9a9058783f221b7b4ad5bf600475f74bb58aba8075354316c352996d9bd3d4c71d0a771dba1990fabff7  docker-machine-0.9.0.tar.gz"
