# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Jakub Jirutka <jakub@jirutka.cz>
pkgname=utf8proc
pkgver=1.3.1
pkgrel=0
pkgdesc="A clean C library for processing UTF-8 Unicode data"
url="https://github.com/JuliaLang/utf8proc"
arch="all"
license="MIT custom"
depends=""
makedepends=""
subpackages="$pkgname-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/JuliaLang/$pkgname/archive/v$pkgver.tar.gz
	$pkgname.pc
	"
builddir="$srcdir/$pkgname-$pkgver"

build() {
	cd "$builddir"

	make || return 1
	sed "s/@VERSION@/$pkgver/" "$srcdir"/$pkgname.pc > $pkgname.pc
}

package() {
	cd "$builddir"

	make DESTDIR="$pkgdir" prefix=/usr install || return 1
	install -D $pkgname.pc "$pkgdir"/usr/lib/pkgconfig/$pkgname.pc
}

md5sums="347cbe5feef3d6714566bad06f1b0135  utf8proc-1.3.1.tar.gz
217e895487b7c5f6cf8a6d611e80360d  utf8proc.pc"
sha256sums="83b60fe21fd8a017b8ad469515873893c8e911a5bef336a427594d398b5688cc  utf8proc-1.3.1.tar.gz
23b07cd32f1a1c2657f868fdc217534511df0b65645245107ba145ca8c6a1991  utf8proc.pc"
sha512sums="9a78e2509ec84ce38a3fc4699311145603fcdf4a60974f738376d0b04f67ba27e36eefb5f3b3387e05b001564d7bad6312524ef73c017b9eb9e077aae7bbefcd  utf8proc-1.3.1.tar.gz
d4811b35dd80b9ec8a7b052f33d59aa8661ed0d4a228c3da9dcbdcf365861cea21729330d1236e022fa7a5e8664e56af97ce81759096e468a5d4d36f83238fb1  utf8proc.pc"
